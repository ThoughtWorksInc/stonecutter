extends layout/layout

block vars
  - bodyClass = "func--authorise-page"
  - pageTitle = "!Authorise"
  - pageTitleDataL8n = "content:authorise/title"

block headerScripts

block content
  .single-column
    h1.page-title
      span.clj--client-name Green Party Voting
      = " "
      span(data-l8n="content:authorise/page-title") !would like to use your Profile Card

    .authorise-text
      p.authorise-text__description
        span(data-l8n="content:authorise/share-1") !By sharing your Profile Card this application
        = " "
        span.authorise-text__description--allowed(data-l8n="content:authorise/share-2") !will be able to:
      ul.authorise-text__list
        li.authorise-text__item
          i.fa.fa-check.fa-fw.authorise-text__icon.authorise-text__icon--allowed
          = " "
          span(data-l8n="content:authorise/item-sign-in") !Sign you in
        li.authorise-text__item
          i.fa.fa-check.fa-fw.authorise-text__icon.authorise-text__icon--allowed
          = " "
          span(data-l8n="content:authorise/item-view-profile") !View your Profile Card
          p.authorise-text__info(data-l8n="content:authorise/item-profile-card-notes") !This includes your full name, email address and profile picture.

    .authorise-text
      p.authorise-text__description
        span(data-l8n="content:authorise/not-intro-1") !This application
        = " "
        span.authorise-text__description--disallowed(data-l8n="content:authorise/not-intro-2") will not be able to:
      ul.authorise-text__list
        li.authorise-text__item
          i.fa.fa-times.fa-fw.authorise-text__icon.authorise-text__icon--disallowed
          = " "
          span(data-l8n="content:authorise/item-update-profile") !Update your Profile Card

    form.func--authorise__form.clj--authorise__form(action="./authorisation", method="post", role="form")
      input.clj--authorise-csrf__input(type="hidden" name="csrf-token" value="1234")
      input.clj--authorise-client-id__input(type="hidden" name="client_id" value="ASDAD1234")
      input.clj--authorise-response-type__input(type="hidden" name="response_type" value="code")
      input.clj--authorise-redirect-uri__input(type="hidden" name="redirect_uri" value="./callback")
      input.clj--authorise-scope__input(type="hidden" name="scope" value="!scope")
      .authorise-buttons
        .authorise-buttons__primary
          button.button.button--full-width.button--primary.func--authorise-share-profile__button(type="submit", data-l8n="content:authorise/allow-action") !Share Profile Card
        .authorise-buttons__secondary
          a.button.button--full-width.button--link.clj--authorise-cancel__link.func--authorise-cancel__link(href="./authorise-failure")
            span(data-l8n="content:authorise/disallow-action-1") !Cancel
            span.visuallyhidden(data-l8n="content:authorise/disallow-action-2") !and do not share my Profile Card

    .authorise-terms
      p(data-l8n="content:authorise/terms") !You can unshare your Profile Card at anytime from your profile.